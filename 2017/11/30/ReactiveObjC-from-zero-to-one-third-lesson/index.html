<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="RAC," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="æœ¬ç¯‡ä¸»è¦ä»‹ç»ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®šï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„å®å®šä¹‰ä¸Cagegoryã€‚
æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸€å¼ å›¾é•‡å¸–ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®š">
<meta property="og:url" content="http://yoursite.com/2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/index.html">
<meta property="og:site_name" content="ä¸€ç›´åœ¨è·¯ä¸Š">
<meta property="og:description" content="æœ¬ç¯‡ä¸»è¦ä»‹ç»ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®šï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„å®å®šä¹‰ä¸Cagegoryã€‚
æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸€å¼ å›¾é•‡å¸–ã€‚">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/ReactiveObjC-from-zero-to-one-real-third-lesson.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-one-direction-binding.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-bi-direction-binding.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannel-bi-direction-binding.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannelTerminal-bi-direction-binding.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannelTo-data-binding.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RACChannelTo-use-demo-1.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RACChannelTo-use-demo-2.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-bi-direction-binding-data-flow.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-common-four-Macro.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-Common-UIKit-Category.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/RAC-Common-Foundation-Category.png">
<meta property="og:image" content="http://ocepn6hgq.bkt.clouddn.com/ReactiveObjC-from-zero-to-one-real-third-lesson.png">
<meta property="og:updated_time" content="2017-12-11T14:54:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®š">
<meta name="twitter:description" content="æœ¬ç¯‡ä¸»è¦ä»‹ç»ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®šï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„å®å®šä¹‰ä¸Cagegoryã€‚
æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸€å¼ å›¾é•‡å¸–ã€‚">
<meta name="twitter:image" content="http://ocepn6hgq.bkt.clouddn.com/ReactiveObjC-from-zero-to-one-real-third-lesson.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6321865863578256000,
      author: 'ä¸»ç¼–å¤§äºº'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/"/>

  <title> ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®š | ä¸€ç›´åœ¨è·¯ä¸Š </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?d9a1587ce4c6042894f106ae7486a3ce";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">ä¸€ç›´åœ¨è·¯ä¸Š</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®š
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-11-30T11:42:01+08:00" content="2017-11-30">
              2017-11-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/FRP/" itemprop="url" rel="index">
                    <span itemprop="name">FRP</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>æœ¬ç¯‡ä¸»è¦ä»‹ç»ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®šï¼Œé¡ºä¾¿æ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„å®å®šä¹‰ä¸Cagegoryã€‚</p>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸€å¼ å›¾é•‡å¸–ã€‚</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/ReactiveObjC-from-zero-to-one-real-third-lesson.png" alt=""></p>
<a id="more"></a>
<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><p>RACScheduleræ˜¯RACä¸­å’Œå¤šçº¿ç¨‹ç›¸å…³çš„ç±»ï¼Œå¾ˆå¤šä¸­æ–‡åšå®¢å°†å…¶ç¿»è¯‘æˆâ€œè°ƒåº¦å™¨â€ï¼Œæ€»ä¹‹å°±æ˜¯ä¸ºäº†æ§åˆ¶ä¸€ä¸ªä»»åŠ¡ä½•æ—¶ä½•åœ°ä»¥ä½•ç§æ–¹å¼è¢«æ‰§è¡Œã€‚RACSchedulerå†…éƒ¨å¹¶æ²¡æœ‰ç”¨åˆ°NSOperationQueueå’ŒNSRunloopç­‰æŠ€æœ¯ï¼Œè€Œä»…ä»…æ˜¯å¯¹GCDä¸­ä¸²è¡Œé˜Ÿåˆ—çš„ç®€å•å°è£…ï¼Œæ‰€ä»¥ä»»åŠ¡ä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”é€šè¿‡RACDisposableåˆæ”¯æŒå–æ¶ˆã€‚</p>
<p>å¯ä»¥ç®€å•çš„ç†è§£æˆä¸€ä¸ªRACSchedulerçš„å®ä¾‹ä»£è¡¨ä¸€ä¸ªGCDä¸­çš„é˜Ÿåˆ—ã€‚</p>
<h3 id="è·å–ï¼åˆ›å»º"><a href="#è·å–ï¼åˆ›å»º" class="headerlink" title="è·å–ï¼åˆ›å»º"></a>è·å–ï¼åˆ›å»º</h3><p>å‡ ä¸ªä¸»è¦çš„è·å–ï¼åˆ›å»ºé˜Ÿåˆ—çš„ç±»æ–¹æ³•ï¼š</p>
<pre><code>+ (RACScheduler *)immediateScheduler;
+ (RACScheduler *)mainThreadScheduler;
+ (RACScheduler *)schedulerWithPriority:(RACSchedulerPriority)priority;
+ (RACScheduler *)scheduler;
+ (RACScheduler *)currentScheduler;
</code></pre><p>é¡¾åæ€ä¹‰ï¼Œçœ‹ä¸€çœ¼å°±èƒ½çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä¸è§£é‡Šäº†ã€‚å…¶ä¸­ï¼Œ<code>RACSchedulerPriority</code>æ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œå®šä¹‰å¦‚ä¸‹</p>
<pre><code>typedef enum : long {
    RACSchedulerPriorityHigh = DISPATCH_QUEUE_PRIORITY_HIGH,
    RACSchedulerPriorityDefault = DISPATCH_QUEUE_PRIORITY_DEFAULT,
    RACSchedulerPriorityLow = DISPATCH_QUEUE_PRIORITY_LOW,
    RACSchedulerPriorityBackground = DISPATCH_QUEUE_PRIORITY_BACKGROUND,
} RACSchedulerPriority;
</code></pre><p>å¯è§ï¼Œå°±æ˜¯å’ŒGCDä¸­çš„å››ä¸ªé˜Ÿåˆ—ä¼˜å…ˆçº§ä¸€æ¯›ä¸€æ ·ã€‚</p>
<h3 id="æ‰§è¡Œ"><a href="#æ‰§è¡Œ" class="headerlink" title="æ‰§è¡Œ"></a>æ‰§è¡Œ</h3><p>å‡ ä¸ªæ‰§è¡Œä»»åŠ¡çš„å®ä¾‹æ–¹æ³•ï¼š</p>
<pre><code>- (RACDisposable *)schedule:(void (^)(void))block;
- (RACDisposable *)after:(NSDate *)date schedule:(void (^)(void))block;
- (RACDisposable *)afterDelay:(NSTimeInterval)delay schedule:(void (^)(void))block;
</code></pre><p>å…¶ä¸­ç¬¬ä¸€ä¸ªæ˜¯ç«‹å³æ‰§è¡Œï¼Œåä¸¤ä¸ªæ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œä¹Ÿå¾ˆç®€å•ï¼Œä¸å¤šè§£é‡Šäº†ã€‚</p>
<p>ä¸‹é¢é‡ç‚¹ä»‹ç»ä¸€ä¸‹å’ŒRACSchedulerç›¸å…³çš„å‡ ä¸ªæ“ä½œç¬¦ã€‚</p>
<h3 id="ä½•åœ°"><a href="#ä½•åœ°" class="headerlink" title="ä½•åœ°"></a>ä½•åœ°</h3><p>æ§åˆ¶ä»£ç åœ¨ä½•åœ°ï¼ˆå“ªä¸ªçº¿ç¨‹ä¸­ï¼‰æ‰§è¡Œã€‚</p>
<pre><code>- (RACSignal *)deliverOn:(RACScheduler *)scheduler;
- (RACSignal *)subscribeOn:(RACScheduler *)scheduler;
</code></pre><p>ä¸ºäº†åŒºåˆ†è¿™ä¸¤ä¸ªæ“ä½œç¬¦ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©æ–¹æ³•ï¼š</p>
<pre><code>- (RACSignal *)bgThreadSendEventSignal {
    NSLog(@&quot;Create signal in thread : %@&quot;,[NSThread currentThread]);
    return [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
        [[RACScheduler schedulerWithPriority:RACSchedulerPriorityBackground] schedule:^{
            NSLog(@&quot;Emit data in thread : %@&quot;,[NSThread currentThread]);
            [subscriber sendNext:@&quot;ğŸ&quot;];
            [subscriber sendCompleted];
        }];
        return nil;
    }];
}
</code></pre><p>æœªåº”ç”¨è¿™ä¸¤ä¸ªæ“ä½œç¬¦çš„æƒ…å†µä¸‹ï¼š</p>
<pre><code>NSLog(@&quot;Subscribe signal in thread : %@&quot;,[NSThread currentThread]);
[[[[self bgThreadSendEventSignal] doNext:^(id x) {
   NSLog(@&quot;Intercept %@ in thread : %@&quot;,x,[NSThread currentThread]);
}] map:^id(id value) {
   NSLog(@&quot;Map %@ in thread : %@&quot;,value,[NSThread currentThread]);
   return @&quot;ğŸ‰&quot;;
}] subscribeNext:^(id x) {
   NSLog(@&quot;Receive %@ in thread : %@&quot;,x,[NSThread currentThread]);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>Subscribe signal in thread : &lt;NSThread: 0x600000066c00&gt;{number = 1, name = main}
Create signal in thread : &lt;NSThread: 0x600000066c00&gt;{number = 1, name = main}
Emit data in thread : &lt;NSThread: 0x60000046bcc0&gt;{number = 3, name = (null)}
Intercept ğŸ in thread : &lt;NSThread: 0x60000046bcc0&gt;{number = 3, name = (null)}
Map ğŸ in thread : &lt;NSThread: 0x60000046bcc0&gt;{number = 3, name = (null)}
Receive ğŸ‰ in thread : &lt;NSThread: 0x60000046bcc0&gt;{number = 3, name = (null)}    
</code></pre><p>è§‚å¯Ÿç»“æœå¯ä»¥å‘ç°ï¼š</p>
<p>ä¸€ä¸ªä¿¡å·è¢«åˆ›å»ºå’Œè®¢é˜…ä¹‹åäº‹ä»¶ï¼ˆæ•°æ®ï¼‰æµç»å†äº†å››ä¸ªè¿‡ç¨‹ï¼šå‘é€-æ‹¦æˆª-è½¬æ¢-æ¥æ”¶ï¼›è€Œå®ƒä»¬éƒ½å‘ç”Ÿåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œä¹Ÿå°±æ˜¯æœ€åˆå‘é€äº‹ä»¶æ‰€åœ¨çš„çº¿ç¨‹ã€‚</p>
<h4 id="deliverOn"><a href="#deliverOn" class="headerlink" title="deliverOn"></a>deliverOn</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Subscribe signal in thread : %@&quot;,[NSThread currentThread]);
[[[[[[self bgThreadSendEventSignal] deliverOn:[RACScheduler schedulerWithPriority:RACSchedulerPriorityBackground]] doNext:^(id x) {
    NSLog(@&quot;Intercept %@ in thread : %@&quot;,x,[NSThread currentThread]);
}] map:^id(id value) {
    NSLog(@&quot;Map %@ in thread : %@&quot;,value,[NSThread currentThread]);
    return @&quot;ğŸ‰&quot;;
}] deliverOn:[RACScheduler mainThreadScheduler]] subscribeNext:^(id x) {
    NSLog(@&quot;Receive %@ in thread : %@&quot;,x,[NSThread currentThread]);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>Subscribe signal in thread : &lt;NSThread: 0x6040000628c0&gt;{number = 1, name = main}
Create signal in thread : &lt;NSThread: 0x6040000628c0&gt;{number = 1, name = main}
Emit data in thread : &lt;NSThread: 0x60000007e500&gt;{number = 3, name = (null)}
Intercept ğŸ in thread : &lt;NSThread: 0x600000261600&gt;{number = 4, name = (null)}
Map ğŸ in thread : &lt;NSThread: 0x600000261600&gt;{number = 4, name = (null)}
Receive ğŸ‰ in thread : &lt;NSThread: 0x6040000628c0&gt;{number = 1, name = main}
</code></pre><p>è§‚å¯Ÿç»“æœå¯ä»¥å‘ç°ï¼š</p>
<p><code>deliverOn</code>æ“ä½œç¬¦å¯ä»¥æ”¹å˜ä¹‹åäº‹ä»¶æµä¼ é€’æ‰€åœ¨çš„çº¿ç¨‹ï¼›å¤šæ¬¡ä½¿ç”¨å‡æœ‰æ•ˆã€‚</p>
<h4 id="subscribeOn"><a href="#subscribeOn" class="headerlink" title="subscribeOn"></a>subscribeOn</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Subscribe signal in thread : %@&quot;,[NSThread currentThread]);
[[[[[[self bgThreadSendEventSignal] subscribeOn:[RACScheduler schedulerWithPriority:RACSchedulerPriorityBackground]] doNext:^(id x) {
   NSLog(@&quot;Intercept %@ in thread : %@&quot;,x,[NSThread currentThread]);
}] map:^id(id value) {
   NSLog(@&quot;Map %@ in thread : %@&quot;,value,[NSThread currentThread]);
   return @&quot;ğŸ‰&quot;;
}] subscribeOn:[RACScheduler mainThreadScheduler]] subscribeNext:^(id x) {
   NSLog(@&quot;Receive %@ in thread : %@&quot;,x,[NSThread currentThread]);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>Subscribe signal in thread : &lt;NSThread: 0x60000006bc40&gt;{number = 1, name = main}
Create signal in thread : &lt;NSThread: 0x60000006bc40&gt;{number = 1, name = main}
Emit data in thread : &lt;NSThread: 0x600000462bc0&gt;{number = 4, name = (null)}
Intercept ğŸ in thread : &lt;NSThread: 0x600000462bc0&gt;{number = 4, name = (null)}
Map ğŸ in thread : &lt;NSThread: 0x600000462bc0&gt;{number = 4, name = (null)}
Receive ğŸ‰ in thread : &lt;NSThread: 0x600000462bc0&gt;{number = 4, name = (null)}
</code></pre><p>è§‚å¯Ÿç»“æœå¯ä»¥å‘ç°ï¼š</p>
<p><code>subscribeOn</code>æ“ä½œç¬¦å¯ä»¥ä»æºå¤´æ”¹å˜äº‹ä»¶æµä¼ é€’æ‰€åœ¨çš„çº¿ç¨‹ï¼›ä»…ç¬¬ä¸€æ¬¡ä½¿ç”¨æœ‰æ•ˆã€‚</p>
<p>æ€»ç»“ï¼š<code>deliverOn</code>æ¯”<code>subscribeOn</code>æ›´åŠ å¸¸ç”¨ï¼Œå¹¶ä¸”å½“ç„¶äº†ä¸¤è€…å¯æ··åˆä½¿ç”¨ã€‚</p>
<p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼š<code>deliverOn:[RACScheduler mainThreadScheduler]</code>è¿˜å¯ä»¥ç”¨<code>deliverOnMainThread</code>è¿™ä¸ªæ“ä½œç¬¦ä»£æ›¿ã€‚</p>
<h3 id="ä½•æ—¶"><a href="#ä½•æ—¶" class="headerlink" title="ä½•æ—¶"></a>ä½•æ—¶</h3><p>æ§åˆ¶ä»£ç åœ¨ä½•æ—¶æ‰§è¡Œã€‚</p>
<pre><code>- (RACSignal *)delay:(NSTimeInterval)interval;
- (RACSignal *)bufferWithTime:(NSTimeInterval)interval onScheduler:(RACScheduler *)scheduler;
- (RACSignal *)timeout:(NSTimeInterval)interval onScheduler:(RACScheduler *)scheduler;
+ (RACSignal *)interval:(NSTimeInterval)interval onScheduler:(RACScheduler *)scheduler;
</code></pre><p>éå¸¸ç®€å•ï¼Œçœ‹ä¾‹å­å°±èƒ½æ‡‚ã€‚</p>
<h4 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Create signal&quot;);
[[[RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
   NSLog(@&quot;Emit data&quot;);
   [subscriber sendNext:@&quot;ğŸ&quot;];
   [subscriber sendNext:@&quot;ğŸ&quot;];
   [subscriber sendCompleted];
   return nil;
}] delay:2.0] subscribeNext:^(id x) {
   NSLog(@&quot;Receive data: %@&quot;,x);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>0.0 Create signal
0.0 Emit data
2.0 Receive data: ğŸ
2.0 Receive data: ğŸ
</code></pre><h4 id="bufferWithTime-onScheduler"><a href="#bufferWithTime-onScheduler" class="headerlink" title="bufferWithTime: onScheduler:"></a>bufferWithTime: onScheduler:</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Create signal&quot;);
[[[RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
   NSLog(@&quot;Emit data&quot;);
   [subscriber sendNext:@&quot;ğŸ&quot;];
   [subscriber sendNext:@&quot;ğŸ&quot;];
   return nil;
}] bufferWithTime:2.0 onScheduler:[RACScheduler currentScheduler]] subscribeNext:^(id x) {
   RACTupleUnpack(NSString *value1, NSString *value2) = (RACTuple *)x;
   NSLog(@&quot;Receive data: %@,%@&quot;,value1,value2);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>0.0 Create signal
0.0 Emit data
2.0 Receive data: ğŸ,ğŸ
</code></pre><h4 id="timeout-onScheduler"><a href="#timeout-onScheduler" class="headerlink" title="timeout: onScheduler:"></a>timeout: onScheduler:</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Create signal&quot;);
[[[RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
   NSLog(@&quot;Emit data&quot;);
   [subscriber sendNext:@&quot;ğŸ&quot;];
   return nil;
}] timeout:2.0 onScheduler:[RACScheduler scheduler]] subscribeNext:^(id x) {
   NSLog(@&quot;Receive data: %@&quot;,x);
} error:^(NSError *error) {
   NSLog(@&quot;Receive error: %@ in thread: %@&quot;,error,[NSThread currentThread]);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>0.0 Create signal
0.0 Emit data
0.0 Receive data: ğŸ
2.0 Receive error: Error Domain=RACSignalErrorDomain Code=1 &quot;(null)&quot; in thread: &lt;NSThread: 0x604000463c80&gt;{number = 3, name = (null)}
</code></pre><h4 id="interval-onScheduler"><a href="#interval-onScheduler" class="headerlink" title="interval: onScheduler:"></a>interval: onScheduler:</h4><p>çœ‹ä»£ç ï¼š</p>
<pre><code>NSLog(@&quot;Create signal&quot;);
[[RACSignal interval:1.0 onScheduler:[RACScheduler mainThreadScheduler]] subscribeNext:^(id x) {
   NSLog(@&quot;Receive data: %@&quot;,x);
}];
</code></pre><p>ç»“æœæ˜¯ï¼š</p>
<pre><code>0.0 Create signal
1.0 Receive data: Wed Nov  8 20:33:07 2017
2.0 Receive data: Wed Nov  8 20:33:08 2017
3.0 Receive data: Wed Nov  8 20:33:09 2017
...
</code></pre><h2 id="ç»‘å®š"><a href="#ç»‘å®š" class="headerlink" title="ç»‘å®š"></a>ç»‘å®š</h2><p>Duangï¼åˆ’é‡ç‚¹ï¼è¿™æ˜¯æ•´ä¸ªRACåº“ç”šè‡³å“åº”å¼ç¼–ç¨‹ä¸­æœ€é‡è¦çš„æ¦‚å¿µï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚RACè™½ç„¶å·ç§°æ˜¯å‡½æ•°å“åº”å¼ç¼–ç¨‹åº“ï¼Œä½†æ˜¯ä»åç§°ï¼ˆæ— è®ºæ˜¯å…¨ç§°ReactiveCocoaè¿˜æ˜¯ä»…é’ˆå¯¹OCç‰ˆæœ¬çš„ReactiveObjCï¼‰ä¸Šçœ‹è²Œä¼¼æ›´åŠ å¼ºè°ƒçš„æ˜¯å“åº”å¼ç¼–ç¨‹ã€‚æ‰€ä»¥å­¦ä¹ RACåº“ä¹‹åå¦‚æœåªè®°ä½ä¸€ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯â€“â€œç»‘å®šâ€ã€‚</p>
<h3 id="å•å‘ç»‘å®š"><a href="#å•å‘ç»‘å®š" class="headerlink" title="å•å‘ç»‘å®š"></a>å•å‘ç»‘å®š</h3><p>å•å‘ç»‘å®šæ˜¯æŒ‡å°†ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ç»‘å®šåˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ä¸Šã€‚</p>
<p>ä¸¾ä¸ªğŸŒ°ï¼šå°†ObjAçš„propertyAç»‘å®šåˆ°ObjBçš„propertyBåï¼ŒpropertyBçš„å€¼åœ¨ä»»æ„æ—¶åˆ»éƒ½ä¼šç­‰äºpropertyAçš„å€¼ã€‚å½“propertyAçš„å€¼æ”¹å˜æ—¶ï¼Œæ— éœ€å¯¹propertyBé‡æ–°èµ‹å€¼ã€‚</p>
<p>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-one-direction-binding.png" alt=""></p>
<p>åœ¨ä»‹ç»å¦‚ä½•è¿›è¡Œå•å‘ç»‘å®šä¹‹å‰é¦–å…ˆä»‹ç»å¦ä¸€ä¸ªå¸¸ç”¨çš„å®å®šä¹‰ï¼š</p>
<p><code>RACObserve(TARGET, KEYPATH)</code></p>
<p>ç”¨äºç›‘å¬æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§çš„å˜åŒ–ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªä¿¡å·ã€‚å¯ä»¥ä»£æ›¿åŸç”Ÿçš„KVOï¼Œä¸€å¦‚ä¹‹å‰å±•ç¤ºè¿‡çš„ã€‚ä½¿ç”¨æ–¹æ³•éå¸¸ç®€å•ï¼š</p>
<pre><code>[RACObserve(self.userModel, starCount) subscribeNext:^(id x) { 
    // do something
}]; 
</code></pre><p>æ³¨æ„ä¸¤ç‚¹ï¼š</p>
<p>1 RACObserveçš„å†…éƒ¨å®ç°æ˜¯åŸºäºKVOçš„ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ‰€æœ‰çš„propertyéƒ½å¯ä»¥è¢«RACObserveï¼Œå¯ä»¥çš„å‰ææ˜¯è¯¥propertyå¿…é¡»æ”¯æŒKVOã€‚</p>
<p>2 å¦‚æœç›‘å¬çš„TARGETæ¶‰åŠåˆ°<code>self</code>ï¼ŒåŒæ—¶blockå†…éƒ¨ä¹Ÿä½¿ç”¨äº†<code>self</code>çš„è¯ï¼Œéœ€è¦ä½¿ç”¨<code>@weakify(self)</code>å’Œ<code>@strongify(self)</code>ä¸¤ä¸ªå®å®šä¹‰æ¥é¿å…å¾ªç¯å¼•ç”¨ï¼š</p>
<pre><code>@weakify(self);
[RACObserve(self.userModel, starCount) subscribeNext:^(id x) { 
    @strongify(self);
    self.starLabel.text = (NSString *)x;
}];
</code></pre><p>è¨€å½’æ­£ä¼ ï¼Œè¿›è¡Œå•å‘ç»‘å®šéå¸¸ç®€å•ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå®å®šä¹‰ï¼š</p>
<p><code>RAC(TARGET, [KEYPATH, [NIL_VALUE]])</code></p>
<p>ä½¿ç”¨æ—¶å°†å…¶æ”¾åˆ° â€œ=â€ å·¦è¾¹ï¼Œå³è¾¹æ˜¯ä¸€ä¸ªä¿¡å·ï¼š</p>
<pre><code>RAC(self.label, text) = self.textField.rac_textSignal;
</code></pre><p>æ­¤æ—¶ï¼Œ<code>label</code>ä¸­çš„æ–‡å­—å°±ä¼šéšç€ç”¨æˆ·åœ¨æ–‡æœ¬æ¡†ä¸­çš„è¾“å…¥è€Œè‡ªåŠ¨æ”¹å˜ã€‚</p>
<p>å½“ç„¶äº†ï¼Œè¿˜å¯ä»¥åœ¨èµ‹å€¼å‰å°†åŸå€¼è¿›è¡Œè½¬æ¢æˆ–è€…è¿‡æ»¤ç­‰ç­‰ï¼Œä¸€å¦‚ä¹‹å‰å±•ç¤ºè¿‡çš„ï¼š</p>
<pre><code>RAC(self.usernameTextField, backgroundColor) = [usernameValidSignal map:^id(NSNumber *valid) {
    return [valid boolValue] ? [UIColor clearColor] : [UIColor yellowColor];
}];
</code></pre><p>å‰æ–¹é«˜èƒ½ï¼è¿˜å¯ä»¥ç»“åˆä¸Šé¢çš„<code>RACObserve</code>ï¼š</p>
<pre><code>RAC(self.starLabel, text) = RACObserve(self.userModel, starCount);    
</code></pre><p>ç®€ç›´ç‚«é…·æœ‰æœ¨æœ‰ï¼Ÿï¼</p>
<p>ç°åœ¨è€ƒè™‘è¿™ä¹ˆä¸€ç§æƒ…å†µï¼Œä¸€ä¸ªç”¨æˆ·ä¿¡æ¯æ¨¡å‹ç±»å½“ä¸­æœ‰ä¸¤ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯ä»£è¡¨ä¸­æ–‡æ€§åˆ«çš„<code>chineseSex</code>å’Œè‹±æ–‡æ€§åˆ«çš„<code>englishSex</code>ï¼Œä¸­æ–‡æ€§åˆ«å¯å–å€¼ï¼šç”·ã€å¥³ã€æœªçŸ¥ï¼Œè‹±æ–‡æ€§åˆ«å¯å–å€¼ï¼šmaleã€femaleã€unknownã€‚<br>ç°åœ¨è¦æ±‚ä¸¤è€…æ—¶åˆ»ä¿æŒåŒ¹é…ã€‚ä¹Ÿå°±æ˜¯å½“<code>chineseSex</code>å±æ€§å˜åŒ–æ—¶ï¼Œ<code>englishSex</code>è¦åšå‡ºç›¸åº”çš„æ”¹å˜ï¼Œåè¿‡æ¥äº¦ç„¶ã€‚</p>
<p>åº”ç”¨ä¸Šé¢çš„ç»‘å®šçŸ¥è¯†å¾ˆå®¹æ˜“å†™å‡ºæ¥ç±»ä¼¼ä¸‹é¢çš„ä»£ç ï¼š</p>
<pre><code>RAC(self.englishSexLabel, text) = RACObserve(self.userModel, englishSex);
RAC(self.chineseSexLabel, text) = RACObserve(self.userModel, chineseSex);

RAC(self.userModel, chineseSex) = [RACObserve(self.userModel, englishSex) map:^id(NSString *value) {
   NSLog(@&quot;here set chineseSex value happen once&quot;);
   if ([value isEqualToString:@&quot;male&quot;]) {
       return @&quot;ç”·&quot;;
   }
   else if ([value isEqualToString:@&quot;female&quot;]) {
       return @&quot;å¥³&quot;;
   }
   else {
       return @&quot;æœªçŸ¥&quot;;
   }
}];

RAC(self.userModel, englishSex) = [RACObserve(self.userModel, chineseSex) map:^id(NSString *value) {
   NSLog(@&quot;here set englishSex value happen once&quot;);
   if ([value isEqualToString:@&quot;ç”·&quot;]) {
       return @&quot;male&quot;;
   }
   else if ([value isEqualToString:@&quot;å¥³&quot;]) {
       return @&quot;female&quot;;
   }
   else {
       return @&quot;unknown&quot;;
   }
}];
</code></pre><p>å…¶ä¸­å‰ä¸¤è¡Œåªæ˜¯ä¸ºäº†ç›´è§‚çš„å±•ç¤ºä¸¤ä¸ªå±æ€§å€¼ï¼Œä¸‹é¢çš„æ‰æ˜¯ç»‘å®šç›¸å…³ã€‚å®é™…è¿è¡Œä½ ä¼šå‘ç°ï¼Œå‡ºç°å¾ªç¯è€Œå¯¼è‡´å´©æºƒäº†ã€‚æ€ä¹ˆè§£å†³å‘¢ï¼Ÿè¿™å°±å¼•å‡ºæ¥ä¸‹é¢è¦ä»‹ç»çš„â€“åŒå‘ç»‘å®šã€‚</p>
<h3 id="åŒå‘ç»‘å®š"><a href="#åŒå‘ç»‘å®š" class="headerlink" title="åŒå‘ç»‘å®š"></a>åŒå‘ç»‘å®š</h3><p>åŒå‘ç»‘å®šæ˜¯æŒ‡å°†ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ä¸å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼äº’ç›¸ç»‘å®šã€‚åŒºåˆ«äºå•å‘ç»‘å®šä¸­æ•°æ®çš„å•å‘æµåŠ¨ï¼Œæ­¤æ—¶æ•°æ®ä¼šåŒå‘æµåŠ¨ã€‚</p>
<p>å†ä¸¾ä¸ªğŸŒ°ï¼šå°†ObjAçš„propertyAä¸ObjBçš„propertyBäº’ç›¸ç»‘å®šåï¼ŒpropertyAçš„å€¼ä¸propertyBçš„å€¼åœ¨ä»»æ„æ—¶åˆ»éƒ½ç›¸ç­‰ã€‚å½“propertyAçš„å€¼æ”¹å˜æ—¶ï¼Œæ— éœ€å¯¹propertyBé‡æ–°èµ‹å€¼ï¼ŒåŒæ ·ï¼Œå½“propertyBçš„å€¼æ”¹å˜æ—¶ï¼Œä¹Ÿæ— éœ€å¯¹propertyAé‡æ–°èµ‹å€¼ã€‚åŒæ—¶è¿˜ä¸ä¼šå¼•å‘å¾ªç¯ã€‚</p>
<p>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-bi-direction-binding.png" alt=""></p>
<p>å¯ä»¥ç†è§£ï¼ŒåŒå‘ç»‘å®šæ¯”å•å‘ç»‘å®šåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥ä¹Ÿç›¸å¯¹å›°éš¾å¾ˆå¤šã€‚</p>
<h4 id="RACChannel"><a href="#RACChannel" class="headerlink" title="RACChannel"></a>RACChannel</h4><p>æ€ä¹ˆåšå‘¢ï¼Ÿé€šè¿‡å¦ä¸€ä¸ªç±»â€“RACChannelã€‚</p>
<p>é€šä¿—çš„è¯´ï¼Œå°±åƒæ˜¯åœ¨éœ€è¦è¿›è¡Œç»‘å®šçš„ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼ä¹‹é—´æ­å»ºä¸€ä¸ªé€šé“ï¼Œé€šé“ä¸Šæœ‰ä¸¤æ¡æ–¹å‘ç›¸åäº’ä¸å¹²æ‰°çš„ç®¡çº¿ï¼Œä»è€Œä¹Ÿå°±å®ç°äº†æ•°æ®å¯ä»¥åœ¨ä¸¤ä¸ªæ–¹å‘çš„æµåŠ¨ã€‚</p>
<p>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannel-bi-direction-binding.png" alt=""></p>
<h5 id="RACChannelTerminal"><a href="#RACChannelTerminal" class="headerlink" title="RACChannelTerminal"></a>RACChannelTerminal</h5><p>çœ‹ä¸€ä¸‹RACChannelç±»çš„å¤´æ–‡ä»¶ï¼Œå‘ç°å¼‚å¸¸ç®€å•ï¼Œåªæœ‰ä¸¤ä¸ªå±æ€§ï¼š</p>
<pre><code>@property (nonatomic, strong, readonly) RACChannelTerminal *leadingTerminal;
@property (nonatomic, strong, readonly) RACChannelTerminal *followingTerminal;
</code></pre><p>æ‰€ä»¥ï¼Œå…¶å®å†…éƒ¨æ˜¯é è¿™ä¸¤ä¸ªâ€œç»ˆç«¯â€å®ç°çš„ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannelTerminal-bi-direction-binding.png" alt=""></p>
<p>å†çœ‹ä¸€ä¸‹RACChannelTerminalï¼š</p>
<pre><code>RACChannelTerminal : RACSignal &lt;RACSubscriber&gt;
</code></pre><p>å¯ä»¥å‘ç°ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªä¿¡å·ï¼Œå¹¶ä¸”å®ç°äº†RACSubscriberåè®®ã€‚å’ŒRACSubjectæœ‰ç›¸ä¼¼ä¹‹å¤„ã€‚</p>
<p>ä½ ä¸€å®šä»¥ä¸ºæ¥ä¸‹æ¥æˆ‘è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨<code>RACChannel</code>äº†ï¼Œé‚£ä½ å¯å°±é”™äº†ã€‚å› ä¸ºé€šå¸¸æƒ…å†µä¸‹ä¸ç›´æ¥ç”¨å®ƒï¼Œè€Œæ˜¯ç”¨å®ƒçš„ä¸€ä¸ªå­ç±»â€“RACKVOChannelã€‚</p>
<h5 id="RACKVOChannel"><a href="#RACKVOChannel" class="headerlink" title="RACKVOChannel"></a>RACKVOChannel</h5><p>é‚£å¦‚ä½•ä½¿ç”¨<code>RACKVOChannel</code>å‘¢ï¼Ÿçœ‹å¤´æ–‡ä»¶åªæœ‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼š</p>
<pre><code>- (id)initWithTarget:(__weak NSObject *)target keyPath:(NSString *)keyPath nilValue:(id)nilValue;
</code></pre><p>é€šå¸¸ä¹Ÿä¸ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè€Œæ˜¯ç”¨å¦å¤–ä¸€ä¸ªå®å®šä¹‰ï¼š</p>
<p><code>RACChannelTo(TARGET, KEYPATH, NILVALUE)</code></p>
<p>ä¼ å…¥ç›¸åº”çš„å€¼ä¼šè¿”å›ä¸€ä¸ªRACChannelTerminalç±»å‹çš„å®ä¾‹å¯¹è±¡ï¼ŒåŒæ—¶å†…éƒ¨ä¼šå®ç°å¯¹ç›¸åº”å¯¹è±¡å±æ€§å€¼çš„ç›‘å¬å€¼å˜åŒ–ä¸èµ‹æ–°å€¼ã€‚</p>
<p>ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-RACChannelTo-data-binding.png" alt=""></p>
<h4 id="åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•"><a href="#åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•" class="headerlink" title="åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•"></a>åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•</h4><h5 id="ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•"><a href="#ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•" class="headerlink" title="ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•"></a>ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•</h5><p>åœ¨å¯¹ä¸¤ä¸ªæ”¯æŒKVOçš„å±æ€§å€¼è¿›è¡ŒåŸå€¼ï¼ˆä¸éœ€è¦ä¸­é€”è¿›è¡Œè½¬æ¢ï¼‰ç»‘å®šæ—¶ï¼Œä¸€ä¸ªâ€œ=â€å°±æå®šã€‚</p>
<p>ä¸¾ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼šå‡è®¾æœ‰ä¸¤ä¸ªViewï¼Œ<code>redView</code>&amp;<code>greenView</code>ï¼Œå…¶ä¸­<code>redView</code>çš„<code>alpha</code>åˆå§‹å€¼ä¸º0.5è€Œ<code>greenView</code>çš„<code>alpha</code>åˆå§‹å€¼ä¸º1.0ï¼Œç°åœ¨è¦ç»‘å®šå®ƒä»¬çš„<code>alpha</code>å€¼ï¼Œå°±æ˜¯ä¸€è¡Œä»£ç çš„äº‹ï¼š</p>
<pre><code>RACChannelTo(self.redView, alpha) = RACChannelTo(self.greenView, alpha);
</code></pre><p>è¿è¡Œåˆå§‹çŠ¶æ€å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RACChannelTo-use-demo-1.png" alt=""></p>
<p>å°†â€œ=â€å·¦å³çš„å†…å®¹å¯¹è°ƒï¼š</p>
<pre><code>RACChannelTo(self.greenView, alpha) = RACChannelTo(self.redView, alpha);
</code></pre><p>è¿è¡Œåˆå§‹çŠ¶æ€å¦‚ä¸‹å›¾ï¼š    </p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RACChannelTo-use-demo-2.png" alt=""></p>
<p>å¯¹æ¯”å¯ä»¥å‘ç°ï¼Œâ€œ=â€å·¦è¾¹çš„å±æ€§å€¼ä¼šä»å³è¾¹çš„å±æ€§å€¼å–å¾—åˆå§‹å€¼ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨å“ªä¸ªå±æ€§çš„åˆå§‹å€¼å“ªä¸ªå±æ€§å°±åœ¨â€œ=â€çš„å³è¾¹ã€‚æ¯”å¦‚ï¼Œå°†ä¸€ä¸ªViewå’Œä¸€ä¸ªModelè¿›è¡ŒåŒå‘ç»‘å®šæ—¶ï¼Œé€šå¸¸éƒ½æ˜¯Viewåœ¨å·¦è¾¹ï¼ŒModelåœ¨å³è¾¹ã€‚ä¹‹ååŒæ–¹å°±å¹³ç­‰äº†ï¼Œæ¯å½“ä¸€æ–¹è¢«èµ‹æ–°å€¼å¦ä¸€æ–¹éƒ½ä¼šè‡ªåŠ¨æ”¹å˜ï¼Œä¿æŒâ€œåŒè°ƒâ€ã€‚</p>
<h5 id="ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•"><a href="#ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•" class="headerlink" title="ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•"></a>ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•</h5><p>ç›´æ¥èµ‹å€¼æ³•è™½ç„¶è¶³å¤Ÿç®€å•ï¼Œä½†æ˜¯ä»…é€‚åˆä¸€å°éƒ¨åˆ†æƒ…å†µï¼Œæ›´å¤šçš„è¿˜æ˜¯åº”ç”¨â€“ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•ã€‚</p>
<p>å›åˆ°ä¸Šé¢æåˆ°çš„éœ€è¦ä¿æŒä»£è¡¨ä¸­æ–‡æ€§åˆ«çš„<code>chineseSex</code>å±æ€§å’Œè‹±æ–‡æ€§åˆ«çš„<code>englishSex</code>å±æ€§æ—¶åˆ»åŒ¹é…çš„ä¾‹å­ï¼Œå¯ä»¥è§£å†³å¦‚ä¸‹ï¼š</p>
<pre><code>// 1
RAC(self.englishSexLabel, text) = RACObserve(self.userModel, englishSex);
RAC(self.chineseSexLabel, text) = RACObserve(self.userModel, chineseSex);

// 2
RACChannelTerminal *channelEnglish = RACChannelTo(self.userModel, englishSex);
RACChannelTerminal *channelChinese = RACChannelTo(self.userModel, chineseSex);

// 3
[[chineseChannelT map:^id(NSString *value) {
    NSLog(@&quot;here set englishSex happen once&quot;);
    if ([value isEqualToString:@&quot;ç”·&quot;]) {
        return @&quot;male&quot;;
    }
    else if ([value isEqualToString:@&quot;å¥³&quot;]) {
        return @&quot;female&quot;;
    }
    else {
        return @&quot;unknown&quot;;
    }
}] subscribe:englishChannelT];

// 4
[[[englishChannelT skip:1] map:^id(NSString *value) {
    NSLog(@&quot;here set chineseSex happen once&quot;);
    if ([value isEqualToString:@&quot;male&quot;]) {
        return @&quot;ç”·&quot;;
    }
    else if ([value isEqualToString:@&quot;female&quot;]) {
        return @&quot;å¥³&quot;;
    }
    else {
        return @&quot;æœªçŸ¥&quot;;
    }
}] subscribe:chineseChannelT];
</code></pre><p>è§£é‡Šä¸€ä¸‹ï¼š</p>
<ol>
<li>ä»ç„¶ä»…ä»…ä¸ºäº†å±•ç¤ºï¼Œä¸ç»‘å®šæ— å…³ï¼Œä¸å˜ï¼›</li>
<li>ä½¿ç”¨å®å®šä¹‰å¾—åˆ°ä¸¤ä¸ª<code>RACChannelTerminal</code>ç±»å‹çš„å®ä¾‹å¯¹è±¡ï¼›</li>
<li>åœ¨ä¸¤ä¸ªç»ˆç«¯ä¹‹é—´æ­å»ºä¸€æ¡ç®¡çº¿ä¾›æ•°æ®æµåŠ¨ï¼Œå¹¶ä¸”æ•°æ®æµåŠ¨è¿‡ç¨‹ä¸­ä¼šè¿›è¡Œè½¬æ¢ï¼›</li>
<li>æŠ›å¼ƒ<code>englishSex</code>çš„åˆå§‹å€¼ï¼Œä½¿ç”¨<code>chineseSex</code>çš„åˆå§‹å€¼ï¼Œæ‰€ä»¥æœ‰<code>skip:1</code>çš„æ“ä½œï¼Œå¯ä»¥ç­‰ä»·ç†è§£æˆåœ¨â€œ=â€å‰é¢ã€‚</li>
</ol>
<p>å®é™…è¿è¡Œä¸€ä¸‹ï¼Œå®Œç¾çš„å®ç°äº†éœ€æ±‚ã€‚Perfect!</p>
<h4 id="è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•"><a href="#è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•"></a>è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•</h4><p>æ–¹æ³•ä¸€ï¼šå°±æ˜¯ä¸Šé¢å±•ç¤ºçš„ç›´æ¥ä½¿ç”¨<code>RACChannelTo</code>å®å®šä¹‰ã€‚</p>
<p>æ–¹æ³•äºŒï¼š<code>RACChannelTo</code>å®å®šä¹‰å­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†ç®€åŒ–<code>RACKVOChannel</code>ç±»çš„ä½¿ç”¨æ–¹å¼ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªç±»ã€‚</p>
<p>ä¸¾ä¸ªğŸŒ°ï¼š</p>
<pre><code>RACChannelTo(view, property) = RACChannelTo(model, property);
</code></pre><p>å®Œå…¨ç­‰ä»·äº</p>
<pre><code>[[RACKVOChannel alloc] initWithTarget:view keyPath:@&quot;property&quot; nilValue:nil][@&quot;followingTerminal&quot;] = 
[[RACKVOChannel alloc] initWithTarget:model keyPath:@&quot;property&quot; nilValue:nil][@&quot;followingTerminal&quot;];
</code></pre><p>æ–¹æ³•ä¸‰ï¼šRACåº“ä¸ºä¸€äº›ç³»ç»ŸUIæ§ä»¶æ‹“å±•äº†å±æ€§æˆ–è€…æ–¹æ³•å¯ä»¥å¾—åˆ°RACChannelTerminalç±»å‹å¯¹è±¡ã€‚</p>
<p>éšä¾¿ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>
<p>å¯¹<code>UITextField</code>çš„æ‹“å±•ï¼š</p>
<p><code>- (RACChannelTerminal *)rac_newTextChannel;</code></p>
<p>å¯¹<code>UISwitch</code>çš„æ‹“å±•ï¼š</p>
<p><code>- (RACChannelTerminal *)rac_newOnChannel;</code></p>
<p><code>UIControl</code>çš„æ‹“å±•ï¼š</p>
<p><code>- (RACChannelTerminal *)rac_channelForControlEvents:(UIControlEvents)controlEvents key:(NSString *)key nilValue:(id)nilValue;</code></p>
<p>å†ä¸¾ä¸ªç»‘å®šView(UITextField)å’ŒModelçš„ä¾‹å­ï¼š</p>
<pre><code>RACChannelTerminal *textFieldChannelT = self.textField.rac_newTextChannel;
RACChannelTerminal *modelChannelT = RACChannelTo(self.userModel, starCount);
[modelChannelT subscribe:textFieldChannelT];
[[textFieldChannelT skip:1] subscribe:modelChannelT];
</code></pre><p>æˆ–ï¼š</p>
<pre><code>RACChannelTerminal *textFieldChannelT = self.textField.rac_newTextChannel;
RAC(self.userModel, starCount) = [textFieldChannelT skip:1];
[RACObserve(self.userModel, starCount) subscribe:textFieldChannelT];
</code></pre><p>æ•°æ®æµå‘å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-bi-direction-binding-data-flow.png" alt=""></p>
<p>è™½ç„¶å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒåŒå‘ç»‘å®šéƒ½æ˜¯ä¸ºäº†è¿æ¥ä¸€ä¸ªViewå’Œä¸€ä¸ªModelï¼Œä½†æ˜¯å…¶å®æ— è®ºæ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„ä¸¤ä¸ªä¸åŒå±æ€§ï¼Œæˆ–æ˜¯ä¸¤ä¸ªä¸åŒå¯¹è±¡ä¹‹é—´çš„å±æ€§ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸¤ä¸ªModelè¿˜æ˜¯ä¸¤ä¸ªViewè¿˜æ˜¯ä¸€ä¸ªModelä¸€ä¸ªViewï¼Œè¿™äº›éƒ½æ˜¯è¡¨è±¡ï¼Œå½’æ ¹ç»“åº•è¿æ¥çš„éƒ½æ˜¯ä¸¤ä¸ªä¸åŒçš„å±æ€§ã€‚</p>
<h2 id="å¸¸ç”¨å®å®šä¹‰"><a href="#å¸¸ç”¨å®å®šä¹‰" class="headerlink" title="å¸¸ç”¨å®å®šä¹‰"></a>å¸¸ç”¨å®å®šä¹‰</h2><p>ä¸Šé¢éƒ½ä»‹ç»äº†ï¼Œä¸€å¼ å›¾æ€»ç»“ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-common-four-Macro.png" alt=""></p>
<h2 id="å¸¸ç”¨Category"><a href="#å¸¸ç”¨Category" class="headerlink" title="å¸¸ç”¨Category"></a>å¸¸ç”¨Category</h2><p>ä¸Šé¢å·²ç»æˆ–å¤šæˆ–å°‘çš„æåˆ°äº†RACä¸ºç³»ç»Ÿç±»åˆ›å»ºçš„ä¸€äº›categoryï¼Œè¿™å¤§å¤§æ–¹ä¾¿äº†ä½¿ç”¨è€…ã€‚ä¸‹é¢æ€»ç»“ä¸€ä¸‹æˆ‘è®¤ä¸ºæœ€å¸¸ç”¨çš„ã€‚</p>
<h3 id="UIKit-Category"><a href="#UIKit-Category" class="headerlink" title="UIKit Category"></a>UIKit Category</h3><p>å¯¹UIåº“ä¸­æ–‡ä»¶çš„æ‹“å±•ã€‚</p>
<h4 id="rac-textSignal"><a href="#rac-textSignal" class="headerlink" title="rac_textSignal"></a>rac_textSignal</h4><p>å‰é¢ç”¨è¿‡å¤ªå¤šæ¬¡ï¼Œç›¸ä¿¡å·²ä¸å†éœ€è¦è§£é‡Šäº†ã€‚</p>
<pre><code>[self.textField.rac_textSignal subscribeNext:^(id x) {
    NSLog(@&quot;x is: %@&quot;,x);
}];
</code></pre><p>å½“åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥â€œI am just look look.â€è¿™æ ·ä¸€æ®µå­—ç¬¦ä¸²çš„è¿‡ç¨‹ä¸­ï¼Œè¾“å‡ºç»“æœæ˜¯ï¼š </p>
<pre><code>x is:
x is: I
x is: I
x is: I a
x is: I am
x is: I am
x is: I am j
x is: I am ju
x is: I am jus
x is: I am just
x is: I am just
x is: I am just l
x is: I am just lo
x is: I am just loo
x is: I am just look
x is: I am just look
x is: I am just look l
x is: I am just look lo
x is: I am just look loo
x is: I am just look look
x is: I am just look look.    
</code></pre><h4 id="rac-signalForControlEvents"><a href="#rac-signalForControlEvents" class="headerlink" title="rac_signalForControlEvents:"></a>rac_signalForControlEvents:</h4><pre><code>[[self.button rac_signalForControlEvents:UIControlEventTouchUpInside] subscribeNext:^(id x) {
    NSLog(@&quot;æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼Œçˆ±å¹²ç‚¹å•¥å„¿å¹²ç‚¹å•¥å„¿&quot;);
}];
</code></pre><p>åº”ç”¨è¿™ç§æ–¹å¼ï¼ŒæŒ‰é’®ç‚¹å‡»çš„å¤„ç†å¯ä»¥å’ŒæŒ‰é’®åˆ›å»ºåœ¨ä¸€å—å„¿ï¼Œä¸å¿…è·¨æ–¹æ³•äº†ã€‚ç‚¹å‡»æ—¶è¾“å‡ºç»“æœæ˜¯ï¼š </p>
<pre><code>æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼Œçˆ±å¹²ç‚¹å•¥å„¿å¹²ç‚¹å•¥å„¿
</code></pre><h4 id="rac-prepareForReuseSignal"><a href="#rac-prepareForReuseSignal" class="headerlink" title="rac_prepareForReuseSignal"></a>rac_prepareForReuseSignal</h4><p>æ— éœ€å¤šè¨€ï¼Œé€šå¸¸æ­é…<code>takeUntil</code>æ“ä½œç¬¦ä½¿ç”¨ã€‚</p>
<h4 id="rac-command"><a href="#rac-command" class="headerlink" title="rac_command"></a>rac_command</h4><pre><code>// ä¸ºäº†æ¨¡æ‹Ÿï¼Œç®€é™‹äº†ä¸€äº›ï¼Œé¢†ä¼šç²¾ç¥
RACSignal *executeSignal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
    [[RACScheduler mainThreadScheduler] afterDelay:1.0 schedule:^{
        [subscriber sendNext:@&quot;ğŸ&quot;];
        [subscriber sendCompleted];
    }];
    return nil;
}];
RACCommand *executeCommand = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) {
    NSLog(@&quot;get input value is: %@&quot;,input);
    return executeSignal;
}];
// èµ‹ç»™å±æ€§å€¼
self.button.rac_command = executeCommand;
// ä½™ä¸‹ä½¿ç”¨æ–¹å¼ä¸å˜
[executeCommand.executionSignals.switchToLatest subscribeNext:^(id x) {
    NSLog(@&quot;get result value is: %@&quot;,x);
}];
</code></pre><p>æŒ‰é’®è¢«ç‚¹å‡»æ—¶è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code>get input value is: &lt;UIButton: 0x7f970dc1c690; ... &gt;
get result value is: ğŸ
</code></pre><p>ä¸€å¼ å›¾æ€»ç»“ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-Common-UIKit-Category.png" alt=""></p>
<h3 id="Foundation-Category"><a href="#Foundation-Category" class="headerlink" title="Foundation Category"></a>Foundation Category</h3><p>å¯¹Foundationåº“ä¸­æ–‡ä»¶çš„æ‹“å±•ã€‚</p>
<h4 id="rac-willDeallocSignal"><a href="#rac-willDeallocSignal" class="headerlink" title="rac_willDeallocSignal"></a>rac_willDeallocSignal</h4><p>åŒæ ·ï¼Œæ— éœ€å¤šè¨€ï¼Œé€šå¸¸æ­é…<code>takeUntil</code>æ“ä½œç¬¦ä½¿ç”¨ã€‚</p>
<h4 id="rac-signalForSelector"><a href="#rac-signalForSelector" class="headerlink" title="rac_signalForSelector:"></a>rac_signalForSelector:</h4><p>ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];
    [[self rac_signalForSelector:@selector(viewWillAppear:)] subscribeNext:^(RACTuple *args) {
        NSLog(@&quot;viewWillAppear method in signal happen animated: %@&quot;,args.first);
    }];
}

- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
    NSLog(@&quot;viewWillAppear method happen animated: %d&quot;,animated);
}
</code></pre><p>è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code>viewWillAppear method happen animated: 1
viewWillAppear method in signal happen animated: 1
</code></pre><p>è§£é‡Šä¸€ä¸‹ï¼šå¯ä»¥å°†ä»»æ„æ–¹æ³•è½¬åŒ–æˆä¸€ä¸ªä¿¡å·ï¼Œç„¶åå»è®¢é˜…å®ƒã€‚è¿™æ ·è·¨æ–¹æ³•æ‰§è¡Œçš„ä»£ç å°±å¤„åœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼Œçœå»äº†å°†ä¸€äº›å…±ç”¨å‚æ•°ä¼ æ¥ä¼ å»çš„çƒ¦æ¼ã€‚</p>
<p>è¿™æ˜¯åŸæ–¹æ³•å®ç°äº†çš„æƒ…å†µï¼Œå…¶å®è¿˜å¯ä»¥ä»…è®©åŸæ–¹æ³•åšå£°æ˜ï¼Œä¸å®ç°ã€‚</p>
<p>çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>åœ¨.hæ–‡ä»¶ä¸­å£°æ˜ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<pre><code>- (void)demoMethodWithParam:(id)value;
</code></pre><p>åœ¨.mæ–‡ä»¶ä¸­ï¼š</p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];
    [[self rac_signalForSelector:@selector(demoMethodWithParam:)] subscribeNext:^(RACTuple *args) {
        NSLog(@&quot;demoMethodWithParam in signal happen param is: %@&quot;, args.first);
    }];
    [self demoMethodWithParam:@&quot;æˆ‘å°±æ˜¯ä¸ªğŸŒ°&quot;];
}
</code></pre><p>è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code>demoMethodWithParam in signal happen param is: æˆ‘å°±æ˜¯ä¸ªğŸŒ°
</code></pre><p>è§£é‡Šä¸€ä¸‹ï¼šè¿™ç§åŸæ–¹æ³•æœªåšå®ç°çš„æƒ…å†µèƒ½æ­£å¸¸è¿è¡Œéœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š1 æ— è¿”å›å€¼ï¼›2 æ²¡æœ‰å…¥å‚æˆ–è€…å…¥å‚æ˜¯idç±»å‹</p>
<h4 id="rac-liftSelector-withSignals"><a href="#rac-liftSelector-withSignals" class="headerlink" title="rac_liftSelector:withSignals:"></a>rac_liftSelector:withSignals:</h4><p>RACSignalè¿˜æœ‰å¦å¤–ä¸€ç§ç”¨æ³•ï¼š</p>
<pre><code>RACSignal *textColorSignal = [RACSignal return:[UIColor blueColor]];
</code></pre><p>å’Œä¸‹é¢è¿™ç§å†™æ³•å‡ ä¹æ˜¯ç­‰ä»·çš„ï¼š</p>
<pre><code>RACSignal *textColorSignal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {
    [subscriber sendNext:[UIColor blueColor]];
    [subscriber sendCompleted];
    return nil;
}];
</code></pre><p>äºæ˜¯å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼è®¾ç½®ä¸€ä¸ªæŒ‰é’®çš„é¢œè‰²å€¼ï¼š</p>
<pre><code>[self.button rac_liftSelector:@selector(setTitleColor:forState:) withSignals:textColorSignal, [RACSignal return:@(UIControlStateNormal)], nil];
</code></pre><p>é¡ºä¾¿æä¸€ä¸‹ï¼Œ<code>rac_liftSelector:withSignals:</code>è¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªä¿¡å·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¢«è®¢é˜…ï¼š</p>
<pre><code>[[self.button rac_liftSelector:@selector(setTitleColor:forState:) withSignals:textColorSignal, [RACSignal return:@(UIControlStateNormal)], nil] subscribeNext:^(id x) {
    NSLog(@&quot;lift selector return value is: %@&quot;,x); // RACUnit ä»£è¡¨RACä¸­çš„ç©ºå€¼ç±»å‹
}];
</code></pre><p>è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code>lift selector return value is: &lt;RACUnit: 0x604000017270&gt;
</code></pre><p>RACUnitæ˜¯RACä¸­é™¤RACEventå’ŒRACTupleä»¥å¤–çš„ç¬¬ä¸‰ç§â€œå€¼ç±»å‹â€ï¼Œä»£è¡¨ç©ºã€‚å½“<code>liftSelector</code>çš„<code>Selector</code>è¿”å›å€¼æ˜¯<code>void</code>ç±»å‹æ—¶å°±ä¼šå¾—åˆ°RACUnitç±»å‹çš„ä¸€ä¸ªå•ä¾‹ã€‚</p>
<h4 id="rac-sequence"><a href="#rac-sequence" class="headerlink" title="rac_sequence"></a>rac_sequence</h4><p>å¦‚æœä½ ç”¨è¿‡swiftï¼Œå†å›æ¥ç”¨OCï¼Œé‚£ä¹ˆä¸€å®šä¼šä¸ºFoundationåº“ä¸­æ²¡æœ‰mapã€filterã€reduceç­‰é«˜çº§å‡½æ•°è€Œæ„Ÿåˆ°ä¸ä¹ æƒ¯ã€‚ä¸ºäº†ç®€åŒ–OCä¸­çš„é›†åˆæ“ä½œï¼ŒRACå®šä¹‰äº†å¦ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç±»â€“RACSequenceã€‚å®ƒå’ŒRACSignalæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå› ä¸ºä¸¤è€…ç»§æ‰¿äºåŒä¸€ä¸ªçˆ¶ç±»â€“RACStreamã€‚æ‰€ä»¥å®ƒèƒ½ä½¿ç”¨å¾ˆå¤šä¹‹å‰ä»‹ç»çš„RACSignalå¯ä»¥ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚mapï¼Œfilterã€ignoreã€skipã€takeã€concatç­‰ç­‰ï¼›è€Œä¸”ä¸¤è€…è¿˜å¯ä»¥ç›¸äº’è½¬æ¢ã€‚</p>
<p>RACä¸ºFoundationåº“ä¸­çš„é›†åˆç±»ï¼ˆå¦‚NSArrayï¼ŒNSDictionaryï¼ŒNSSetï¼ŒNSStringç­‰ï¼‰éƒ½æ‹“å±•äº†ä¸€ä¸ªRACSequenceç±»å‹çš„å±æ€§å«åšï¼š<code>rac_sequence</code>ã€‚</p>
<p>éšä¾¿ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre><code>NSArray *array = @[@1, @2, @3, @4];
NSArray *newArray = [array.rac_sequence map:^id(NSNumber *value) {
    return @(100+value.integerValue);
}].array;
</code></pre><p>çœ‹ç€æœ‰æ²¡æœ‰èˆ’æœå¾ˆå¤šï¼Ÿ</p>
<p>RACSequenceå’ŒRACSignalå½’æ ¹ç»“åº•éƒ½æ˜¯æµï¼Œä½†ä¸¤è€…é—´æœ€å¤§çš„ä¸åŒåœ¨äºå‰è€…æ˜¯pull-drivenç±»å‹çš„æµï¼Œè€Œåè€…æ˜¯push-drivenç±»å‹çš„æµã€‚ </p>
<p>å†å¤šå†…å®¹å°±ä¸è¯´äº†ï¼Œæ¨èä¸¤ç¯‡å†™çš„ä¸é”™çš„æ–‡ç« ï¼š</p>
<p><a href="https://draveness.me/racsequence" target="_blank" rel="external">Pull-Driven çš„æ•°æ®æµ RACSequence</a><br><a href="http://www.jianshu.com/p/5c2119b3f2eb" target="_blank" rel="external">ReactiveCocoa ä¸­ é›†åˆç±»RACSequence å’Œ RACTupleåº•å±‚å®ç°åˆ†æ</a></p>
<p>ä¸€å¼ å›¾æ€»ç»“ï¼š</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/RAC-Common-Foundation-Category.png" alt=""></p>
<h2 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h2><p>RACå¦‚ä½•ç»“åˆMVVMä½¿ç”¨è¿™ä¸ªè¯é¢˜å¤ªå¤§äº†ï¼Œä¸€ä¸¤å¥è¯çœŸæ˜¯è¯´ä¸æ¸…æ¥šã€‚å¯ä»¥çœ‹ä¸‹æˆ‘ä¹‹å‰ç¿»è¯‘çš„ä¸¤ç¯‡å›½å¤–å¤§ç¥å†™çš„æ–‡ç« ï¼š</p>
<p><a href="https://kaisayoung.github.io/2016/09/02/MVVM-Tutorial-with-ReactiveCocoa-Part-1-2%E3%80%90%E8%AF%91%E3%80%91/" target="_blank" rel="external">MVVM &amp; ReactiveCocoaå…¥é—¨æ•™ç¨‹ï¼ç¬¬ä¸€éƒ¨åˆ†</a><br><a href="https://kaisayoung.github.io/2016/09/05/MVVM-Tutorial-with-ReactiveCocoa-Part-2-2%E3%80%90%E8%AF%91%E3%80%91/" target="_blank" rel="external">MVVM &amp; ReactiveCocoaå…¥é—¨æ•™ç¨‹ï¼ç¬¬äºŒéƒ¨åˆ†</a></p>
<p>æ•°æ®æµå‘å›¾å¯ä»¥çœ‹è¿™ç¯‡ï¼š</p>
<p><a href="http://williamzang.com/blog/2016/06/27/ios-kai-fa-xia-de-han-shu-xiang-ying-shi-bian-cheng/" target="_blank" rel="external">iOSå¼€å‘ä¸‹çš„å‡½æ•°å“åº”å¼ç¼–ç¨‹</a></p>
<p>å…·ä½“ä½¿ç”¨Demoå¯ä»¥çœ‹è¿™ä¸ªï¼š</p>
<p><a href="https://github.com/kaisayoung/ReactiveCocoaDemo" target="_blank" rel="external">ReactiveCocoaDemo</a></p>
<p>æ€»ä¹‹ä¸¤è€…æ­é…ä½¿ç”¨å°±åƒè±†æµ†æ²¹æ¡ï¼Œç®€ç›´ç»é…ã€‚</p>
<p>æœ€åï¼Œå†æ¥çœ‹ä¸€çœ¼æ–‡ç« å¼€å¤´å‡ºç°è¿‡çš„å›¾ç‰‡ï¼Œæœ‰æ²¡æœ‰æ„Ÿè§‰ä¸è¿‡å¦‚æ­¤ï¼Ÿ</p>
<p><img src="http://ocepn6hgq.bkt.clouddn.com/ReactiveObjC-from-zero-to-one-real-third-lesson.png" alt=""></p>
<p>è‡³æ­¤ï¼Œä¸‰ç¯‡ä½¿ç”¨æ•™ç¨‹ï¼ˆæˆ‘çš„å­¦ä¹ å†ç¨‹ï¼‰å°±ç»“æŸäº†ï¼Œèƒ½è¯»åˆ°è¿™é‡Œç›¸ä¿¡ä½ æˆ–å¤šæˆ–å°‘éƒ½æœ‰æ‰€æ”¶è·ã€‚ä½†æ˜¯è¦æ³¨æ„è¿™è¿˜ä»…ä»…æ˜¯çš®æ¯›ï¼Œæƒ³äº†è§£æ›´å¤šè‡ªå·±å»å®è·µå§å“ˆå“ˆã€‚Have Funï¼</p>
<p>å‚è€ƒé“¾æ¥</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a href="https://github.com/ReactiveCocoa/ReactiveObjC/blob/master/Documentation/DesignGuidelines.md" target="_blank" rel="external">DesignGuidelines</a><br><a href="https://github.com/ReactiveCocoa/ReactiveCocoa/blob/v2.5/Documentation/FrameworkOverview.md" target="_blank" rel="external">FrameworkOverview</a></p>
<p>æºç è§£æï¼š</p>
<p><a href="https://tech.meituan.com/RACSignalSubscription.html" target="_blank" rel="external">RACSignalçš„Subscriptionæ·±å…¥åˆ†æ</a><br><a href="https://tech.meituan.com/ReactiveCocoaSignalFlow.html" target="_blank" rel="external">ReactiveCocoaæ ¸å¿ƒå…ƒç´ ä¸ä¿¡å·æµ</a>   </p>
<p>å¤šçº¿ç¨‹ï¼š</p>
<p><a href="http://www.jianshu.com/p/980ffdf3ed8c" target="_blank" rel="external">ReactiveCocoaä¸­RACScheduleræ˜¯å¦‚ä½•å°è£…GCDçš„</a>  </p>
<p>åŒå‘ç»‘å®šï¼š</p>
<p><a href="https://draveness.me/racchannel" target="_blank" rel="external">RACä¸­çš„åŒå‘æ•°æ®ç»‘å®šRACChannel</a><br><a href="https://spin.atomicobject.com/2015/05/04/bi-directional-data-bindings-reactivecocoa/" target="_blank" rel="external">Bi-directional Data Bindings in ReactiveCocoa with RACChannel</a>  </p>
<p>æˆ‘ä¹‹å‰å†™çš„ï¼š</p>
<p><a href="https://github.com/kaisayoung/ReactiveCocoaDemo" target="_blank" rel="external">ReactiveCocoaDemo</a><br><a href="https://kaisayoung.github.io/2017/04/21/RxSwift-from-zero-to-one-first-lesson/" target="_blank" rel="external">RxSwiftåŸºæœ¬æ¦‚å¿µä¸ä½¿ç”¨</a><br><a href="https://kaisayoung.github.io/2017/05/27/RxSwift-from-zero-to-one-second-lesson/" target="_blank" rel="external">RxSwiftè¿›é˜¶ï¼Œç»†èŠ‚ä¸UIç»‘å®š</a><br><a href="https://kaisayoung.github.io/2017/09/19/ReactiveObjC-from-zero-to-one-first-lesson/" target="_blank" rel="external">ReactiveObjCåŸºæœ¬æ¦‚å¿µä¸ç®€å•ä½¿ç”¨</a><br><a href="https://kaisayoung.github.io/2017/10/30/ReactiveObjC-from-zero-to-one-second-lesson/" target="_blank" rel="external">ReactiveObjCä¸­çš„å†·çƒ­ä¿¡å·ä¸å‘½ä»¤</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/RAC/" rel="tag">#RAC</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/30/ReactiveObjC-from-zero-to-one-second-lesson/" rel="next" title="ReactiveObjCä¸­çš„å†·çƒ­ä¿¡å·ä¸å‘½ä»¤">
                <i class="fa fa-chevron-left"></i> ReactiveObjCä¸­çš„å†·çƒ­ä¿¡å·ä¸å‘½ä»¤
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/"
           data-title="ReactiveObjCä¸­çš„å¤šçº¿ç¨‹ä¸ç»‘å®š" data-url="http://yoursite.com/2017/11/30/ReactiveObjC-from-zero-to-one-third-lesson/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Kaisa" />
          <p class="site-author-name" itemprop="name">Kaisa</p>
          <p class="site-description motion-element" itemprop="description">å¿ƒè‹¥ä¸è€ï¼Œä»æ˜¯å°‘å¹´</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">19</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/kaisayoung" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å¤šçº¿ç¨‹"><span class="nav-number">1.</span> <span class="nav-text">å¤šçº¿ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#è·å–ï¼åˆ›å»º"><span class="nav-number">1.1.</span> <span class="nav-text">è·å–ï¼åˆ›å»º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‰§è¡Œ"><span class="nav-number">1.2.</span> <span class="nav-text">æ‰§è¡Œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½•åœ°"><span class="nav-number">1.3.</span> <span class="nav-text">ä½•åœ°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#deliverOn"><span class="nav-number">1.3.1.</span> <span class="nav-text">deliverOn</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#subscribeOn"><span class="nav-number">1.3.2.</span> <span class="nav-text">subscribeOn</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä½•æ—¶"><span class="nav-number">1.4.</span> <span class="nav-text">ä½•æ—¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#delay"><span class="nav-number">1.4.1.</span> <span class="nav-text">delay</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bufferWithTime-onScheduler"><span class="nav-number">1.4.2.</span> <span class="nav-text">bufferWithTime: onScheduler:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#timeout-onScheduler"><span class="nav-number">1.4.3.</span> <span class="nav-text">timeout: onScheduler:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#interval-onScheduler"><span class="nav-number">1.4.4.</span> <span class="nav-text">interval: onScheduler:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»‘å®š"><span class="nav-number">2.</span> <span class="nav-text">ç»‘å®š</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å•å‘ç»‘å®š"><span class="nav-number">2.1.</span> <span class="nav-text">å•å‘ç»‘å®š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŒå‘ç»‘å®š"><span class="nav-number">2.2.</span> <span class="nav-text">åŒå‘ç»‘å®š</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RACChannel"><span class="nav-number">2.2.1.</span> <span class="nav-text">RACChannel</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#RACChannelTerminal"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">RACChannelTerminal</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#RACKVOChannel"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">RACKVOChannel</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•"><span class="nav-number">2.2.2.</span> <span class="nav-text">åŒå‘ç»‘å®šçš„ä¸¤ç§æ–¹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">ï¼ˆå®å®šä¹‰ï¼‰ç›´æ¥èµ‹å€¼æ³•</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">ï¼ˆç»ˆç«¯ï¼‰åŒè®¢é˜…æ³•</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•"><span class="nav-number">2.2.3.</span> <span class="nav-text">è·å¾—RACChannelTerminalç±»å‹å¯¹è±¡çš„ä¸‰ç§æ–¹æ³•</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¸¸ç”¨å®å®šä¹‰"><span class="nav-number">3.</span> <span class="nav-text">å¸¸ç”¨å®å®šä¹‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¸¸ç”¨Category"><span class="nav-number">4.</span> <span class="nav-text">å¸¸ç”¨Category</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UIKit-Category"><span class="nav-number">4.1.</span> <span class="nav-text">UIKit Category</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-textSignal"><span class="nav-number">4.1.1.</span> <span class="nav-text">rac_textSignal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-signalForControlEvents"><span class="nav-number">4.1.2.</span> <span class="nav-text">rac_signalForControlEvents:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-prepareForReuseSignal"><span class="nav-number">4.1.3.</span> <span class="nav-text">rac_prepareForReuseSignal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-command"><span class="nav-number">4.1.4.</span> <span class="nav-text">rac_command</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Foundation-Category"><span class="nav-number">4.2.</span> <span class="nav-text">Foundation Category</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-willDeallocSignal"><span class="nav-number">4.2.1.</span> <span class="nav-text">rac_willDeallocSignal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-signalForSelector"><span class="nav-number">4.2.2.</span> <span class="nav-text">rac_signalForSelector:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-liftSelector-withSignals"><span class="nav-number">4.2.3.</span> <span class="nav-text">rac_liftSelector:withSignals:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rac-sequence"><span class="nav-number">4.2.4.</span> <span class="nav-text">rac_sequence</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVVM"><span class="nav-number">5.</span> <span class="nav-text">MVVM</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kaisa</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"kaisayoung"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
